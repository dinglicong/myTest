<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
	</body>
	<script type="text/javascript">
	
	/*
	 * 闭包应用P39——javascript设计模式与开发实践
	 */
	
		var mult = (function(){
			var cache = {};
			var calculate = function(){
				var a = 1;
				
				for (var i = 0, l = arguments; i < l; i++ ) {
					a = a * arguments[i];
				}
				
				return a;
			}
			
			return function(){
				var args = Array.prototype.join.call(arguments,",");
				if(args in cache){
					return cache[args];
				}
				
				return cache[args] = calculate.apply(null,arguments);
			}
		})();
		
		console.log(mult(1,2,3));
		console.log(mult(1,2,3));		
	</script>
</html>
